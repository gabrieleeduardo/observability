global:
  # How frequently to scrape targets by default.
  scrape_interval: 10s
  # How long until a scrape request times out.
  scrape_timeout: 5s
  # How frequently to evaluate rules.
  evaluation_interval: 1m

# Alerting specifies settings related to the Alertmanager.
alerting:
  alertmanagers:
  - static_configs:
    - targets: ['alertmanager:9093']

# Rule files specifies a list of globs. Rules and alerts are read from
# all matching files.
rule_files:
  - '/etc/prometheus/*.rules.yml'

# A list of scrape configurations.
scrape_configs:

  - job_name: docker
    static_configs:
    - targets: ['172.17.0.1:9323'] # ip address show dev docker0
      labels:
        app: docker
        env: dev
        stack: dojot

  - job_name: prometheus
    honor_labels: false
    honor_timestamps: true
    scheme: http
    static_configs:
    - targets: ['localhost:9090']
      labels:
        app: prometheus
        env: dev
        stack: dojot

  - job_name: alertmanager
    static_configs:
    - targets: ['alertmanager:9093']
      labels:
        app: alertmanager
        env: dev
        stack: dojot

  - job_name: cadvisor
    static_configs:
    - targets: ['cadvisor:8080']
      labels:
        app: cadvisor
        env: dev
        stack: dojot

  - job_name: node_exporter
    static_configs:
    - targets: ['node_exporter:9100']
      labels:
        app: node_exporter
        env: dev
        stack: dojot
